<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Urbis - Inteligência e Desenvolvimento</title>
    <meta name="description" content="Urbis - Inteligência Territorial" />
    <meta name="author" content="Urbis" />

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/ico" href="./assets/favicon.ico" />
    
    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" />
    
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configure Tailwind with custom colors -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'urbis-primary': '#BF3B6C',
              'urbis-secondary': '#D94848',
              'urbis-tertiary': '#0C4A6E',
              'urbis-navy': '#0C4A6E',
              'urbis-blue': '#1978A0',
              'urbis-red': '#D94848',
              'urbis-darkGray': '#4B5563',
              'urbis-neutral': '#6B7280'
            },
          }
        }
      }
    </script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/styles.css" />
    
    <!-- React & React DOM via CDN -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- React Router DOM via CDN (FIXED: Added this CDN link) -->
    <script src="https://unpkg.com/react-router-dom@6/umd/react-router-dom.production.min.js" crossorigin></script>
    
    <!-- Babel for JSX support -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- GPT Engineer script for project modifications -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
  </head>
  <body>
    <div id="root"></div>

    <!-- Main application script -->
    <script type="text/babel">
      // Extract React components from React library
      const { useState, useEffect, createContext, useContext, Fragment } = React;

      // Extract React Router components (FIXED: properly access ReactRouterDOM)
      const { BrowserRouter, Routes, Route, Link, useNavigate, Navigate } = window.ReactRouterDOM;

      // Create global toast function for notifications
      const toast = (options) => {
        const toastElement = document.createElement('div');
        toastElement.className = 'fixed top-4 right-4 bg-white shadow-lg rounded-lg p-4 z-50 animate-fade-in';
        
        const title = options.title ? `<h4 class="font-semibold">${options.title}</h4>` : '';
        const description = options.description ? `<p>${options.description}</p>` : '';
        const variant = options.variant === 'destructive' ? 'border-l-4 border-red-500' : '';
        
        toastElement.innerHTML = `
          <div class="${variant}">
            ${title}
            ${description}
          </div>
        `;
        
        document.body.appendChild(toastElement);
        
        setTimeout(() => {
          toastElement.classList.add('animate-fade-out');
          setTimeout(() => {
            document.body.removeChild(toastElement);
          }, 300);
        }, 3000);
      };

      // Authentication Context
      const AdminAuthContext = createContext();

      const AdminAuthProvider = ({ children }) => {
        const [isAuthenticated, setIsAuthenticated] = useState(false);
        const [loading, setLoading] = useState(true);
        const [adminUser, setAdminUser] = useState(null);

        // Verificar autenticação ao carregar
        useEffect(() => {
          checkAuth();
        }, []);

        // Função para verificar se o usuário está autenticado
        const checkAuth = () => {
          const token = localStorage.getItem('admin_token');
          const user = localStorage.getItem('admin_user');
          
          if (token) {
            setIsAuthenticated(true);
            if (user) {
              setAdminUser(JSON.parse(user));
            }
          }
          
          setLoading(false);
        };

        // Função de login
        const login = (email, password) => {
          // Credenciais simplificadas para demonstração
          if (email === 'admin@urbis.com.br' && password === 'admin123') {
            const token = 'demo-token-' + Date.now();
            const user = {
              email,
              name: 'Administrador',
              role: 'admin'
            };
            
            localStorage.setItem('admin_token', token);
            localStorage.setItem('admin_user', JSON.stringify(user));
            
            setIsAuthenticated(true);
            setAdminUser(user);
            
            toast({
              title: "Login bem-sucedido",
              description: "Bem-vindo ao painel administrativo."
            });
            
            return true;
          } else {
            toast({
              title: "Erro de autenticação",
              description: "E-mail ou senha inválidos.",
              variant: "destructive"
            });
            
            return false;
          }
        };

        // Função de logout
        const logout = () => {
          localStorage.removeItem('admin_token');
          localStorage.removeItem('admin_user');
          
          setIsAuthenticated(false);
          setAdminUser(null);
          
          toast({
            title: "Logout realizado",
            description: "Você saiu do painel administrativo."
          });
        };

        const value = {
          isAuthenticated,
          loading,
          adminUser,
          login,
          logout
        };

        return (
          <AdminAuthContext.Provider value={value}>
            {children}
          </AdminAuthContext.Provider>
        );
      };

      const useAdminAuth = () => useContext(AdminAuthContext);

      // UI Components
      const Button = ({ children, className, onClick, type = "button", disabled = false, asChild = false }) => {
        const baseClasses = "inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background";
        const variantClasses = "bg-primary text-primary-foreground hover:bg-primary/90";
        const sizeClasses = "h-10 py-2 px-4";
        
        const allClasses = `${baseClasses} ${variantClasses} ${sizeClasses} ${className || ''}`;
        
        if (asChild) {
          return <div className={allClasses}>{children}</div>;
        }
        
        return (
          <button 
            type={type} 
            className={allClasses} 
            onClick={onClick} 
            disabled={disabled}
          >
            {children}
          </button>
        );
      };

      // Navbar Component
      const Navbar = () => {
        const [isOpen, setIsOpen] = useState(false);
        
        return (
          <header className="bg-white shadow-sm sticky top-0 z-30">
            <div className="container mx-auto px-4 py-4 flex justify-between items-center">
              <a href="/" className="flex items-center">
                <span className="text-xl font-bold text-urbis-primary">URBIS</span>
              </a>
              
              <div className="lg:hidden">
                <button 
                  onClick={() => setIsOpen(!isOpen)} 
                  className="p-2 focus:outline-none"
                >
                  {isOpen ? (
                    <span className="block w-6 h-px bg-gray-800"></span>
                  ) : (
                    <>
                      <span className="block w-6 h-px bg-gray-800 mb-1"></span>
                      <span className="block w-6 h-px bg-gray-800 mb-1"></span>
                      <span className="block w-6 h-px bg-gray-800"></span>
                    </>
                  )}
                </button>
              </div>
              
              <nav className={`lg:flex ${isOpen ? 'block absolute top-full left-0 right-0 bg-white shadow-md' : 'hidden'} lg:relative lg:shadow-none`}>
                <ul className="flex flex-col lg:flex-row">
                  <li>
                    <a href="#about" className="block px-4 py-2 lg:py-0 hover:text-urbis-primary">Quem Somos</a>
                  </li>
                  <li>
                    <a href="#services" className="block px-4 py-2 lg:py-0 hover:text-urbis-primary">Serviços</a>
                  </li>
                  <li>
                    <a href="#projects" className="block px-4 py-2 lg:py-0 hover:text-urbis-primary">Projetos</a>
                  </li>
                  <li>
                    <a href="#contact" className="block px-4 py-2 lg:py-0 hover:text-urbis-primary">Contato</a>
                  </li>
                </ul>
              </nav>
            </div>
          </header>
        );
      };

      // Footer Component
      const Footer = () => {
        return (
          <footer className="bg-urbis-tertiary text-white py-8">
            <div className="container mx-auto px-4">
              <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                  <h3 className="text-xl font-bold mb-4">URBIS</h3>
                  <p className="text-sm">Inteligência e Desenvolvimento Urbano</p>
                </div>
                <div>
                  <h4 className="font-semibold mb-2">Links Rápidos</h4>
                  <ul className="space-y-1">
                    <li><a href="#about" className="text-sm hover:text-gray-300">Quem Somos</a></li>
                    <li><a href="#services" className="text-sm hover:text-gray-300">Serviços</a></li>
                    <li><a href="#projects" className="text-sm hover:text-gray-300">Projetos</a></li>
                    <li><a href="#contact" className="text-sm hover:text-gray-300">Contato</a></li>
                  </ul>
                </div>
                <div>
                  <h4 className="font-semibold mb-2">Contato</h4>
                  <p className="text-sm">contato@urbis.com.br</p>
                  <p className="text-sm">(12) 99203-1890</p>
                </div>
              </div>
              <div className="mt-8 border-t border-gray-700 pt-6 text-center text-sm">
                <p>&copy; {new Date().getFullYear()} URBIS. Todos os direitos reservados.</p>
              </div>
            </div>
          </footer>
        );
      };

      // Hero Component
      const Hero = () => {
        return (
          <section 
            id="hero" 
            className="relative h-screen flex items-center"
            style={{
              backgroundImage: 'linear-gradient(rgba(242, 68, 119, 0.4), rgba(191, 54, 155, 0.5)), url("./assets/images/hero-bg.jpg")',
              backgroundSize: 'cover',
              backgroundPosition: 'center',
            }}
          >
            <div className="container mx-auto px-4 text-white">
              <div className="max-w-3xl">
                <h1 className="text-4xl md:text-5xl lg:text-6xl font-bold mb-6">
                  URBIS: Inteligência e Desenvolvimento
                </h1>
                <p className="text-xl md:text-2xl mb-10">
                  Soluções urbanísticas inovadoras para cidades inteligentes e sustentáveis
                </p>
                <a 
                  href="#about"
                  className="inline-flex items-center bg-urbis-primary hover:bg-urbis-primary/90 text-white px-8 py-4 rounded-md text-lg font-medium transition-colors"
                >
                  Saiba Mais
                  <span className="ml-2">→</span>
                </a>
              </div>
            </div>
          </section>
        );
      };

      // AboutUs Component
      const AboutUs = () => {
        const features = [
          "Inteligência técnica e visão estratégica",
          "Expertise em urbanismo e meio ambiente",
          "Conhecimento profundo em legislação",
          "Agilidade nos processos de aprovação",
          "Foco em valorização do empreendimento",
          "Suporte completo do estudo à implantação"
        ];

        return (
          <section id="about" className="py-20 bg-white">
            <div className="container mx-auto px-4">
              <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                {/* Text Content */}
                <div className="animate-slide-up">
                  <h2 className="text-3xl md:text-4xl font-bold text-urbis-primary mb-6">
                    Quem somos
                  </h2>
                  
                  <p className="text-urbis-darkGray mb-6">
                    A URBIS é uma consultoria especializada na estruturação de empreendimentos urbanos com inteligência técnica, visão estratégica e agilidade. Atuamos desde o estudo de viabilidade até a aprovação e implantação, transformando terrenos em projetos viáveis, valorizados e legalmente seguros.
                  </p>

                  <p className="text-urbis-darkGray mb-8">
                    Com experiência consolidada, integrando áreas como urbanismo, meio ambiente, infraestrutura e legislação, a URBIS é o parceiro ideal para destravar terrenos e criar valor duradouro para loteadores, investidores e incorporadores.
                  </p>

                  <div className="grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-4">
                    {features.map((feature, index) => (
                      <div key={index} className="flex items-center">
                        <span className="text-urbis-primary mr-2">✓</span>
                        <span className="text-urbis-darkGray">{feature}</span>
                      </div>
                    ))}
                  </div>
                </div>

                {/* Image */}
                <div className="order-first lg:order-last">
                  <div className="relative">
                    <div className="w-full h-full bg-urbis-primary absolute -bottom-4 -left-4 rounded-lg z-0"></div>
                    <img 
                      src="./assets/images/about-image.jpg" 
                      alt="Urbis Infográfico" 
                      className="w-full h-auto object-contain rounded-lg shadow-lg z-10 relative"
                      onError={(e) => {
                        console.error("Failed to load primary image");
                        e.currentTarget.src = "https://via.placeholder.com/800x500?text=Urbis+Infografico";
                      }}
                    />
                  </div>
                </div>
              </div>
            </div>
          </section>
        );
      };

      // Contact Form Component
      const ContactForm = () => {
        const [formData, setFormData] = useState({
          name: '',
          email: '',
          phone: '',
          message: ''
        });
        
        const [isSubmitting, setIsSubmitting] = useState(false);
        
        const handleChange = (e) => {
          const { name, value } = e.target;
          setFormData(prev => ({ ...prev, [name]: value }));
        };
        
        const handleSubmit = (e) => {
          e.preventDefault();
          setIsSubmitting(true);
          
          // Simulate form submission
          setTimeout(() => {
            toast({
              title: "Mensagem enviada",
              description: "Agradecemos seu contato. Retornaremos em breve."
            });
            setFormData({ name: '', email: '', phone: '', message: '' });
            setIsSubmitting(false);
          }, 1000);
        };
        
        return (
          <div className="bg-white p-6 md:p-8 rounded-lg shadow-lg">
            <h3 className="text-2xl font-semibold text-urbis-navy mb-6">Envie uma mensagem</h3>
            
            <form onSubmit={handleSubmit} className="space-y-6">
              <div>
                <label htmlFor="name" className="block text-sm font-medium text-gray-700 mb-1">Nome</label>
                <input
                  type="text"
                  id="name"
                  name="name"
                  value={formData.name}
                  onChange={handleChange}
                  className="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-urbis-blue focus:border-urbis-blue"
                  required
                />
              </div>
              
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label htmlFor="email" className="block text-sm font-medium text-gray-700 mb-1">E-mail</label>
                  <input
                    type="email"
                    id="email"
                    name="email"
                    value={formData.email}
                    onChange={handleChange}
                    className="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-urbis-blue focus:border-urbis-blue"
                    required
                  />
                </div>
                
                <div>
                  <label htmlFor="phone" className="block text-sm font-medium text-gray-700 mb-1">Telefone</label>
                  <input
                    type="tel"
                    id="phone"
                    name="phone"
                    value={formData.phone}
                    onChange={handleChange}
                    className="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-urbis-blue focus:border-urbis-blue"
                    required
                  />
                </div>
              </div>
              
              <div>
                <label htmlFor="message" className="block text-sm font-medium text-gray-700 mb-1">Mensagem</label>
                <textarea
                  id="message"
                  name="message"
                  value={formData.message}
                  onChange={handleChange}
                  rows="4"
                  className="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-urbis-blue focus:border-urbis-blue"
                  required
                ></textarea>
              </div>
              
              <button
                type="submit"
                disabled={isSubmitting}
                className="bg-urbis-navy hover:bg-urbis-navy/90 text-white font-medium py-2 px-6 rounded-md transition-colors w-full md:w-auto"
              >
                {isSubmitting ? 'Enviando...' : 'Enviar mensagem'}
              </button>
            </form>
          </div>
        );
      };

      // Contact Info Component
      const ContactInfo = () => {
        return (
          <div className="bg-[#D94848] p-6 md:p-8 rounded-lg shadow-lg mb-8">
            <h3 className="text-2xl font-semibold text-white mb-6">Informações de Contato</h3>
            
            <div className="space-y-6">
              <div className="flex items-start">
                <span className="text-white mt-1 mr-4">📍</span>
                <div>
                  <h4 className="text-white font-medium mb-1">Endereço</h4>
                  <p className="text-gray-200">
                    Rua Dr. Orlando Feirabend Filho, 230 - sala 701 C<br />
                    Centro Empresarial Aquarius - São José dos Campos-SP
                  </p>
                </div>
              </div>
              
              <div className="flex items-start">
                <span className="text-white mt-1 mr-4">📱</span>
                <div>
                  <h4 className="text-white font-medium mb-1">Telefone</h4>
                  <p className="text-gray-200">
                    (12) 99203-1890
                  </p>
                </div>
              </div>
              
              <div className="flex items-start">
                <span className="text-white mt-1 mr-4">✉️</span>
                <div>
                  <h4 className="text-white font-medium mb-1">E-mail</h4>
                  <p className="text-gray-200">
                    contato@urbis.com.br
                  </p>
                </div>
              </div>
              
              <div className="flex items-start">
                <span className="text-white mt-1 mr-4">🕒</span>
                <div>
                  <h4 className="text-white font-medium mb-1">Horário de Atendimento</h4>
                  <p className="text-gray-200">
                    Segunda à Sexta: 9h às 18h
                  </p>
                </div>
              </div>
            </div>
          </div>
        );
      };

      // Map Component
      const LocationMap = () => {
        return (
          <div className="bg-white p-6 rounded-lg shadow-lg">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3667.144230095956!2d-45.888758423900764!3d-23.199625748492788!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94cc4a3f6fe044cd%3A0x81c7866defcde640!2sR.%20Dr.%20Orlando%20Feirabend%20Filho%2C%20230%20-%20Parque%20Residencial%20Aquarius%2C%20S%C3%A3o%20Jos%C3%A9%20dos%20Campos%20-%20SP%2C%2012246-190!5e0!3m2!1spt-BR!2sbr!4v1715027301359!5m2!1spt-BR!2sbr"
              width="100%"
              height="250"
              style={{ border: 0 }}
              loading="lazy"
              referrerPolicy="no-referrer-when-downgrade"
              title="Urbis Location"
              className="rounded"
            ></iframe>
          </div>
        );
      };

      // Contact Section Component
      const Contact = () => {
        return (
          <section id="contact" className="py-20 bg-[#919494]/10">
            <div className="container mx-auto px-4">
              <div className="text-center mb-12 animate-slide-up">
                <h2 className="text-3xl md:text-4xl font-bold text-[#BF3B6C] mb-4">
                  Entre em Contato
                </h2>
                <p className="text-urbis-darkGray max-w-3xl mx-auto">
                  Estamos prontos para ajudar a transformar sua visão em realidade. Entre em contato para discutir seu projeto ou obter mais informações sobre nossos serviços.
                </p>
              </div>

              <div className="grid grid-cols-1 lg:grid-cols-2 gap-12">
                {/* Contact Form */}
                <ContactForm />

                {/* Contact Info and Map */}
                <div>
                  <ContactInfo />
                  <LocationMap />
                </div>
              </div>
            </div>
          </section>
        );
      };

      // WhatsApp Button Component
      const WhatsAppButton = () => {
        const [isVisible, setIsVisible] = useState(false);
        const phoneNumber = "5512992031890";
        const message = "Olá! Gostaria de mais informações sobre os serviços da Urbis.";
        
        useEffect(() => {
          const toggleVisibility = () => {
            if (window.scrollY > 300) {
              setIsVisible(true);
            } else {
              setIsVisible(false);
            }
          };
          
          window.addEventListener('scroll', toggleVisibility);
          
          return () => window.removeEventListener('scroll', toggleVisibility);
        }, []);
        
        const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
        
        return (
          <a 
            href={whatsappUrl}
            target="_blank"
            rel="noopener noreferrer"
            className={`fixed right-5 bottom-5 z-50 bg-[#25D366] text-white p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 ${isVisible ? "opacity-100 translate-y-0" : "opacity-0 translate-y-10"}`}
            aria-label="Contato via WhatsApp"
          >
            📱
          </a>
        );
      };

      // Main App Component
      const App = () => {
        return (
          <div className="min-h-screen">
            <Navbar />
            <main>
              <Hero />
              <AboutUs />
              <Contact />
            </main>
            <WhatsAppButton />
            <Footer />
          </div>
        );
      };

      // Render the app
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>

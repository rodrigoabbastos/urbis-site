
# Configuração de exemplo para Apache - Site Standalone (Sem WordPress)
# Este arquivo deve ser colocado em /etc/apache2/sites-available/
# e ativado com: sudo a2ensite nome-do-arquivo.conf

<VirtualHost *:80>
    ServerName urbis.com.br
    ServerAlias www.urbis.com.br
    
    # Redirecionar para HTTPS
    RewriteEngine On
    RewriteCond %{HTTPS} off
    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</VirtualHost>

<VirtualHost *:443>
    ServerName urbis.com.br
    ServerAlias www.urbis.com.br
    ServerAdmin webmaster@urbis.com.br
    
    # Raiz do documento - onde seus arquivos estão armazenados
    DocumentRoot /var/www/urbis.com.br/html
    
    # Configurações SSL (se estiver usando Let's Encrypt)
    SSLEngine on
    SSLCertificateFile /etc/letsencrypt/live/urbis.com.br/fullchain.pem
    SSLCertificateKeyFile /etc/letsencrypt/live/urbis.com.br/privkey.pem
    Include /etc/letsencrypt/options-ssl-apache.conf
    
    # Configuração para o roteamento do React (Single Page Application)
    <Directory "/var/www/urbis.com.br/html">
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
        
        # Rewrite para SPA
        RewriteEngine On
        RewriteBase /
        RewriteRule ^index\.html$ - [L]
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule . /index.html [L]
    </Directory>
    
    # Headers de segurança
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-XSS-Protection "1; mode=block"
    
    # Cache para arquivos estáticos
    <FilesMatch "\.(js|css|png|jpg|jpeg|gif|ico|svg)$">
        Header set Cache-Control "max-age=2592000, public"
    </FilesMatch>
    
    # Logs
    ErrorLog ${APACHE_LOG_DIR}/urbis.com.br.error.log
    CustomLog ${APACHE_LOG_DIR}/urbis.com.br.access.log combined
</VirtualHost>
